# 004 - Cross Sum (★2)

```cpp
# include <iostream>
# include <vector>

int main()
{
	// H 行, W 列
	int H, W;
	std::cin >> H >> W;

	// マス目 (全部で H * W 個)
	std::vector<int> A(H * W);
	
	// 各行の合計 (H 個)
	std::vector<int> rowSums(H);
	
	// 各列の合計 (W 個)
	std::vector<int> colSums(W);
	
	// マス目の入力	
	for (int y = 0; y < H; ++y) // y 行目
	{
		for (int x = 0; x < W; ++x) // x 列目
		{
			int a;
			std::cin >> a;

			// 現在のマスを記録
			A[y * W + x] = a;
			
			// 現在の行の合計値を増やす
			rowSums[y] += a;
			
			// 現在の列の合計値を増やす
			colSums[x] += a;
		}
	}

	// 解答の出力
	for (int y = 0; y < H; ++y) // y 行目
	{
		for (int x = 0; x < W; ++x) // x 列目
		{
			// 現在の行の合計 + 現在の列の合計 - 現在のマス
			const int a = (rowSums[y] + colSums[x] - A[y * W + x]);

			std::cout << a << ' ';
		}

		std::cout << '\n';
	}
}
```

デバッグ出力付き
```cpp
# include <iostream>
# include <vector>

int main()
{
	// H 行, W 列
	int H, W;
	std::cin >> H >> W;

	// マス目 (全部で H * W 個)
	std::vector<int> A(H * W);
	
	// 各行の合計 (H 個)
	std::vector<int> rowSums(H);
	
	// 各列の合計 (W 個)
	std::vector<int> colSums(W);
	
	// マス目の入力
	for (int y = 0; y < H; ++y) // y 行目
	{
		for (int x = 0; x < W; ++x) // x 列目
		{
			int a;
			std::cin >> a;

			// 現在のマスを記録
			A[y * W + x] = a;
			
			// 現在の行の合計値を増やす
			rowSums[y] += a;
			
			// 現在の列の合計値を増やす
			colSums[x] += a;
		}
	}

	// デバッグ出力
	{
		for (int y = 0; y < H; ++y) // y 行目
		{
			for (int x = 0; x < W; ++x) // x 列目
			{
				const int a = A[y * W + x];

				std::cerr << a << ' ';
			}

			std::cerr << ":: " << rowSums[y] << '\n';
		}

		std::cerr << "::\n";

		for (int x = 0; x < W; ++x)
		{
			std::cerr << colSums[x] << ' ';
		}

		std::cerr << "\n";
	}

	// 解答の出力
	for (int y = 0; y < H; ++y) // y 行目
	{
		for (int x = 0; x < W; ++x) // x 列目
		{
			// 現在の行の合計 + 現在の列の合計 - 現在のマス
			const int a = (rowSums[y] + colSums[x] - A[y * W + x]);

			std::cout << a << ' ';
		}

		std::cout << '\n';
	}
}
```
